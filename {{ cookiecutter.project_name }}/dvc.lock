schema: '2.0'
stages:
  split:
    cmd: python src/split_data.py data/origin/data.csv data/splitted/train.csv data/splitted/test.csv
      --test-size 0.3 --random-state 42 --stratify
    deps:
    - path: data/origin/data.csv
      md5: cfa6b3c1726cefa40a0844c2bfd2399a
      size: 3857
    - path: src
      md5: dfcf1e5e371fc8fd43e0096c1d8ad788.dir
      size: 3382
      nfiles: 4
    outs:
    - path: data/splitted/test.csv
      md5: a7fc207fe4179b258bcfeaaf1ee77991
      size: 1197
    - path: data/splitted/train.csv
      md5: c31e724ca91d22a6568690c0b3d3c272
      size: 2717
  train:
    cmd: python src/train_model.py models/model.pkl data/splitted/train.csv --penalty
      l2 --tol 0.0001 --c 10 --multi-class auto --max-iter 100
    deps:
    - path: data/splitted/train.csv
      md5: c31e724ca91d22a6568690c0b3d3c272
      size: 2717
    - path: src
      md5: dfcf1e5e371fc8fd43e0096c1d8ad788.dir
      size: 3382
      nfiles: 4
    outs:
    - path: models/model.pkl
      md5: 45a7ca9d842a895d18a12a32dc1ab3e8
      size: 1519
  test:
    cmd: python src/test_model.py data/splitted/test.csv models/model.pkl data/predicted/test.csv
      metrics.yaml --ndigits 3
    deps:
    - path: data/splitted/test.csv
      md5: a7fc207fe4179b258bcfeaaf1ee77991
      size: 1197
    - path: models/model.pkl
      md5: 45a7ca9d842a895d18a12a32dc1ab3e8
      size: 1519
    - path: src
      md5: dfcf1e5e371fc8fd43e0096c1d8ad788.dir
      size: 3382
      nfiles: 4
    outs:
    - path: data/predicted/test.csv
      md5: 552fdeb1a6cb1be3a8cae77f62a0b378
      size: 2475
    - path: metrics.yaml
      md5: 13213c12c0386da3366aa23cba43047b
      size: 52
